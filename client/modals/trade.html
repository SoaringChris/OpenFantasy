<script src = "scripts/Trade.js"/>
<div id = "TradeModal" class = "modal fade">
    <div class = "modal-dialog modal-lg" style="max-width:95%; width: 95%; max-height: 95%; height: 95%">
        <div class = "modal-content" style = "height:  100%;">
            <div class = "modal-header pb-0">
                <h2 class = "modal-title" id = "TradeTitle">Trade</h2>
                <button type = "button" class = "close" data-dismiss = "modal" aria-hidden = "false">&times</button>
            </div>
            <div class = "modal-body pb-0 pt-0">
                <div class = "row">
                    <select id="teamSelect1" class = "form-control col">
                        <option selected id = "teamSelect1-Generic">Select the First Team...</option>
                    </select>
                    <select id = "teamSelect2" class = "form-control col">
                        <option selected id = "teamSelect2-Generic">Select the Second Team...</option>
                    </select>
                </div>
                <div class = "row top" style = "height: 72vh">
                    <div class = "col px-0 left tall teamList">
                        <form class="form-inline">
                            <div class="form-group mt-2">
                                <label class = "ml-1" for="pointSelect1">Points:</label>
                                <input type="number" min = "0" class="ml-2 mr-1 form-control" id="pointSelect1" oninput="offerPoints(event, 1)">
                                <p>/</p><p id = "pointPocket1">4343</p>
                            </div>
                        </form>
                        <ul id = "tradeList1" class = "list-group bottom list-group-flush px-0">
                            <button class = "list-group-item list-group-item-action noCorner mx-0"><div style = "clear: both"><p class = 'my-0 alignleft'>Test</p><p class = "my-0 alignright"><i class="mt-1-5 fas fa-angle-right"></i></p></div></button>
                            <button class = "list-group-item list-group-item-action noCorner mx-0">Test</button>
                            <button class = "list-group-item list-group-item-action noCorner mx-0">Test</button>
                        </ul>
                    </div>
                    <div class = "col px-0 right left tall teamList">
                        <div id = "pointOffer1">
                        </div>
                        <ul id = "tradeOffer1" class = "list-group noCorner bottom px-0">
                            <button class = "list-group-item list-group-item-action noCorner mx-0"><div style = "clear: both"><p class = "my-0 alignleft"><i class="mt-1-5 fas fa-angle-left"></i></p><p class = 'my-0 alignright'>Test</p></div></button>
                            <button class = "list-group-item list-group-item-action noCorner mx-0"><div style = "clear: both"><p class = "my-0 alignleft"><i class="mt-1-5 fas fa-angle-left"></i></p><p class = 'my-0 alignright'>Test</p></div></button>
                            <button class = "list-group-item list-group-item-action noCorner mx-0"><div style = "clear: both"><p class = "my-0 alignleft"><i class="mt-1-5 fas fa-angle-left"></i></p><p class = 'my-0 alignright'>Test</p></div></button>

                        </ul>
                    </div>
                    <div class = "col px-0 right left tall teamList">
                        <div id = "pointOffer2"></div>
                        <ul id = "tradeOffer2" class = "list-group bottom noCorner px-0">
                        </ul>
                    </div>
                    <div class = "col px-0 right bottom tall teamList">
                        <form class="form-inline">
                            <div class="form-group mt-2">
                                <label class = "ml-1" for="pointSelect2">Points:</label>
                                <input type="number" min = "0" class="ml-2 mr-1 form-control" id="pointSelect2" oninput="offerPoints(event,2)">
                                <p>/</p><p id="pointPocket2">4343</p>
                            </div>
                        </form>
                        <ul id ="tradeList2" class = "list-group list-group-flush bottom px-0">
                            <button class = "list-group-item list-group-item-action noCorner mx-0">Test</button>
                            <button class = "list-group-item list-group-item-action noCorner mx-0">Test</button>
                            <button class = "list-group-item list-group-item-action noCorner mx-0">Test</button>
                        </ul>
                    </div>
                </div>
            </div>
            <div class = "modal-footer">
                <button class = "btn btn-success btn-md">Complete Trade</button>
            </div>
        </div>
    </div>
</div>
<script>
    //Initializer

    //populate team selectors
    // for(i = 1; i < 3; i++)
    // {
    //     for(team in global.teams) {
    //         $("#teamSelect" + i).append("<option>" + team.name + "</option>")
    //     }
    // }

    function offerPoints(event, num){
        console.log(event.target.value);

        if(!(event.target.value <= 0))
        {
        var html = '<div class = "pointblock pt-3 mb-1 col"><p class = "mx-0 my-0 alignright">Points: ' + event.target.value + '</p></div>';

            $('#pointOffer'+num).html(html);
        }
        else
        {
            $('#pointOffer'+num).html("");
        }
    }

    function offerPlayer(event, team){
        var pNo = event.target.getAttribute('data-playNo');
        event.target.remove();
    }

    function undoPlayerOffer(event, team)
    {
        var pNo = event.target.getAttribute('data-playNo')
        event.target.remove();
    }




    $('#TradeModal').on('hidden.bs.modal', function () {
        $('#TradeModal').parent().html("")
    })


</script>