<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
    <div class = "row">
        <button class = "btn btn-success col-sm-2 offset-sm-5" data-toggle="modal" data-target = "#newPlayerModal" onclick="populatePlayerList()">Add New Player&nbsp&nbsp<i class = "fas fa-plus"></i> </button>
    </div>
    <br><br><br>
    <div class = "PlayerScroll" id = "PlayerScroll">
        <div class = "row">
            <button class = "btn btn-info col-sm-2 offset-sm-2" data-toggle="modal" data-target= "#playerViewModal">
                Player 1
            </button>
            <button class = "btn btn-info col-sm-2 offset-sm-1" data-toggle="modal" data-target= "#playerViewModal">
                Player 2
            </button>
            <button class = "btn btn-info col-sm-2 offset-sm-1" data-toggle="modal" data-target= "#playerViewModal">
                Player 3
            </button>
        </div>

    </div>

<div id = "playerViewModal" class = "modal fade" role = "dialog">
    <div class = "modal-dialog">
        <div class = "modal-content">
            <div class = "modal-header">
                <h2 class= "modal-title" id = "PlayerTitle">Player Name</h2>
                <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
            </div>
            <div class = "modal-body">
                <b>Name:</b> <div id = "PlayerName">Player Name</div>
                <br>
                <b>Owner:</b> <div id = "PlayerOwner">N/A</div>
                <br>
                <b>Score:</b> <div id = PlayerScore>100</div>
            </div>
            <div class = "modal-footer">
                <button id = "pickupbutton" type = "button" class = "btn btn-success btn-md" onclick="pickupPrep($('#playerViewModal').attr('data-pNo'))">Pick-Up</button>
                <button id = "tradebutton" type = "button" class = "btn btn-primary btn-md" onclick = "initPlayerTrade($('#playerViewModal').attr('data-pNo'))">Trade</button>
                <button type = "button" class = "btn btn-info btn-md" onclick = "pEditPrep($('#playerViewModal').attr('data-pNo'))">Edit</button>
                <button id = "dropbutton" type = "button" class = "btn btn-warning btn-md" onclick="global.activeLeague.players[$('#playerViewModal').attr('data-pNo')].drop()" data-dismiss="modal">Drop</button>
                <button type = "button" class = "btn btn-danger btn-md" onclick="removePlayer($('#playerViewModal').attr('data-pNo'))">Delete</button>
            </div>
        </div>
    </div>
</div><script>populatePlayerList()</script>

<div id = "newPlayerModal" class = "modal fade" role = "dialog">
    <div class = "modal-dialog">
        <div class = "modal-content">
            <div class = "modal-header">
                <h2 class= "modal-title">New Player</h2>
                <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
            </div>
            <div class = "modal-body">
                <div class = "form-group">
                    <label for = "plName">Player Name</label>
                    <input type = "text" class = "form-control" id = "plName">
                </div>

            </div>
            <div class = "modal-footer">
                <button type = "button" class = "btn btn-success btn-md" onclick="newPlayer($('#plName').val())">Save</button>
                <button type = "button" class = "btn btn-danger btn-md" data-dismiss="modal" >Cancel</button>
            </div>
        </div>
    </div>
</div>

<div id = "pickupPlayerModal" class = "modal fade" role = "dialog">
    <div class = "modal-dialog">
        <div class = "modal-content">
            <div class = "modal-header">
                <h2 class = 'modal-title'>Trade</h2>
                <button type = 'button' class = 'close' data-dismiss= 'modal'>x</button>
            </div>
            <div class = 'modal-body' id = 'enact-body'>
                <div class = form-group>
                    <label for = targetTm>Select the team you wish to assign this player to:</label>
                    <select class = 'form-control' id = 'targetTm'>

                    </select>
                </div>
            </div>
            <div class = 'modal-footer'>
                <button type = "button" class = "btn btn-success btn-md" onclick="global.activeLeague.players[$('#pickupPlayerModal').attr('data-pNo')].pickup(global.activeLeague.teams[$('#targetTm').val()])">Save</button>
                <button type = "button" class = "btn btn-danger btn-md" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div id = "editPlayerModal" class = "modal fade" role = "dialog">
    <div class = "modal-dialog">
        <div class = "modal-content">
            <div class = "modal-header">
                <h2 class= "modal-title">Edit Player</h2>
                <button type = "button" class = "close" data-dismiss = "modal">&times;</button>
            </div>
            <div class = "modal-body">
                <div class = "form-group">
                    <label for = "plNameEd">Player Name</label>
                    <input type = "text" class = "form-control" id = "plNameEd">
                </div>

            </div>
            <div class = "modal-footer">
                <button type = "button" class = "btn btn-success btn-md" onclick="editPlayerSave($('#editPlayerModal').attr('data-pNo'))">Save</button>
                <button type = "button" class = "btn btn-danger btn-md" data-dismiss="modal" >Cancel</button>
            </div>
        </div>
    </div>
</div>
<div id = "tradeModalContainer">

</div>

<body onload = "populatePlayerList()">

</body>
<script>
    function initPlayerTrade(pNo)
    {
        if(global.activeLeague.players[pNo].owner !== "Unsigned") {
            let url = path + "modals/trade.html";
            $("#playerViewModal").modal('hide');
            $("#tradeModalContainer").load(url, function () {
                newTradeFromPlayer(pNo);
                $('#TradeModal').modal("show");
            });
        }
        else{
            pickupPrep(pNo);
        }
    }
</script>
</html>
